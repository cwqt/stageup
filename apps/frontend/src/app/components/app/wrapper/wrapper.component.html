<app-header-bar [myself]="myself"></app-header-bar>

<div class="app-container" #appContainer>
  <div class="flex">
    <app-sidebar
      *ngIf="myself?.user.is_admin || myself?.host"
      [class.raise-index]="!(drawerOpenSubject | async)"
      [class.shadow-lg]="drawerOpenSubject | async"
      [myself]="myself"
    >
    </app-sidebar>

    <mat-drawer-container class="h-full container relative">
      <mat-drawer #drawer mode="side" [ngSwitch]="drawerState.key">
        <app-host-performance-drawer *ngSwitchCase="drawerKey.HostPerformance"></app-host-performance-drawer>
      </mat-drawer>

      <mat-drawer-content class="w-full h-full">
        <div class="app-body w-full px-8 pt-8">
          <router-outlet></router-outlet>
        </div>
      </mat-drawer-content>
    </mat-drawer-container>
  </div>

  <app-footer></app-footer>
</div>
