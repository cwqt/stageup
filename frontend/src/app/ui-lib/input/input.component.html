<div class="ui-input-wrapper" [class.ui-input-wrapper--has-icon]="icon">
  <!-- Input -->
  <div
    (clickOutside)="togglePasswordVisibility(false)"
    (click)="input.select()"
    class="form-field"
    [class.form-field--is-active]="focused"
    [class.form-field--is-filled]="value !== ''"
    [class.form-field--is-small]="!label"
    [class.form-field--is-errored]="showError"
    *ngIf="type == 'number' || type == 'text' || type == 'password'">
    <div class="form-field__control">
      <ui-icon *ngIf="icon">{{ icon }}</ui-icon>
      <label *ngIf="label"
        [for]="formControlName || ''"
        class="form-field__label">{{ label }}<span>{{ required ? "*" : ""}}</span></label>
      <input
        #input
        [(ngModel)]="value"
        (blur)="onTouched()"
        (focus)="onFocus()"
        [id]="formControlName || ''"
        [disabled]="disabled"
        [placeholder]="placeholder"
        [type]="type == 'password' ? (passwordVisible ? 'text' : 'password') : type"
        tabindex="0"
        autocomplete="off"
        [required]="required"
        class="form-field__input" />
        <div class="form-field__password" *ngIf="type == 'password'">
          <ui-icon-button size="m" (click)="togglePasswordVisibility(false, $event)" *ngIf="passwordVisible"><ui-icon>view--filled</ui-icon></ui-icon-button>
          <ui-icon-button size="m" (click)="togglePasswordVisibility(true, $event)" *ngIf="!passwordVisible"><ui-icon>view--off--filled</ui-icon></ui-icon-button>  
        </div>
      </div>
  </div>

  <!-- Textarea -->
  <div
    (click)="textarea.select()"
    class="form-field"
    [class.form-field--is-active]="focused"
    [class.form-field--is-filled]="value !== ''"
    [class.form-field--is-small]="!label"
    [class.form-field--is-errored]="showError"
    *ngIf="type == 'textarea'">
    <div class="form-field__control">
      <ui-icon *ngIf="icon">{{ icon }}</ui-icon>
      <label *ngIf="label"
        [for]="formControlName || ''"
        class="form-field__label">{{ label }}</label>
      <textarea
        #textarea
        [(ngModel)]="value"
        (blur)="onTouched()"
        (focus)="onFocus()"
        [id]="formControlName || ''"
        [disabled]="disabled"
        [placeholder]="placeholder"
        tabindex="0"
        autocomplete="off"
        class="form-field__textarea"></textarea>
    </div>
  </div>

  <!-- Number input -->
  <!-- <div class="ui-input-number-buttons" *ngIf="type == 'number'">
    <ui-icon-button (click)="increment($event)">caret--up</ui-icon-button>
    <ui-icon-button (click)="decrement($event)">caret--down</ui-icon-button>
  </div> -->

  <!-- Checkboxes -->
  <mat-form-field
    *ngIf="type == 'checkbox'"
    class="ui-input"
    appearance="fill"
    [class.errored]="showError"
    [class.hasHint]="hint"
    [class.dark]="kind == 'secondary'"
    [class.small]="!label"
    [class.checkbox]="type == 'checkbox'">
    <mat-label *ngIf="label && type !== 'checkbox'">{{ label }}</mat-label>
    <mat-checkbox matInput *ngIf="type == 'checkbox'" [(ngModel)]="value">{{label}}</mat-checkbox>
    <!-- stop formcontrolname throwing errors -->
    <input matInput placeholder="Input" style="display: none" >
  </mat-form-field>

  <!-- Hint message -->
  <span *ngIf="hint && !showError" class="form-field__hint">{{ hint }}</span>

  <!-- Form errors -->
  <div *ngIf="showError" class="form-field__errors" [class.shiftMore]="hint">
    <span *ngFor="let error of errors">{{ error }}</span>
  </div>
</div>
