<div class="sidebar-wrapper">
  <img src="/assets/eventi.svg" alt="" class="logo">

    <div class="sidebar-main-buttons">
        <ui-button (click)="gotoRoot()" routerLink="" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
            <ui-icon>home</ui-icon> Home
        </ui-button>
        <ui-button routerLink="/search" routerLinkActive="active">
            <ui-icon>search</ui-icon> Search
        </ui-button>
        <ui-button routerLink="/library" routerLinkActive="active">
            <ui-icon>catalog</ui-icon> Your Library
        </ui-button>

        <ng-container *ngIf="host">
            <mat-divider></mat-divider>
            
            <ui-button (click)="gotoHost()" routerLink="/host" routerLinkActive="active">
                <ui-icon>events</ui-icon> {{ host.name }}
            </ui-button>
        </ng-container>
    </div>

    <div class="sidebar-user">
        <div class="sidebar-popup" *ngIf="userPopupOpen" (clickOutside)="toggleUserPopup(false)" [exclude]="'.sidebar-user__container'">
            <div class="sidebar-popup__buttons">
                <ui-button (click)="logout()"><ui-icon>logout</ui-icon>Log out</ui-button>
                <ui-button (click)="gotoSettings()"><ui-icon>settings</ui-icon>Settings</ui-button>    
            </div>
        </div>    

        <button class="sidebar-user__container" matRipple (click)="toggleUserPopup(true)">    
            <img [src]="user.avatar" alt="">
            <div class="sidebar-user__details">
                <span><strong>{{ user.name }}</strong></span>
                <span>@{{ user.username }}</span>
            </div>
            <ui-icon>overflow-menu--horizontal</ui-icon>
        </button>    
    </div>
</div>